<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Metadata Â· JLSO.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/invenia.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="JLSO.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">JLSO.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Metadata</a></li><li><a class="tocitem" href="../upgrading/">Upgrading</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Metadata</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Metadata</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/invenia/JLSO.jl/blob/master/docs/src/metadata.md#L" title="Edit on GitHub"><span class="docs-icon fab">ï‚›</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Metadata"><a class="docs-heading-anchor" href="#Metadata">Metadata</a><a id="Metadata-1"></a><a class="docs-heading-anchor-permalink" href="#Metadata" title="Permalink"></a></h1><p>Manually reading JLSO files can be helpful when addressing issues deserializing objects or to simply to help with reproducibility.</p><pre><code class="language-julia">using JLSO;

jlso = read(&quot;breakfast.jlso&quot;, JLSOFile)</code></pre><pre class="documenter-example-output">JLSOFile([cost, food, time]; version=&quot;4.0.0&quot;, julia=&quot;1.5.4&quot;, format=:julia_serialize, compression=:gzip, image=&quot;&quot;)</pre><p>Now we can manually access the serialized objects:</p><pre><code class="language-julia">jlso.objects</code></pre><pre class="documenter-example-output">Dict{Symbol,Array{UInt8,1}} with 3 entries:
  :cost =&gt; UInt8[0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03  â€¦ â€¦
  :food =&gt; UInt8[0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03  â€¦ â€¦
  :time =&gt; UInt8[0x1f, 0x8b, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03  â€¦ â€¦</pre><p>Or deserialize individual objects:</p><pre><code class="language-julia">jlso[:food]</code></pre><pre class="documenter-example-output">&quot;â˜•ï¸ğŸ¥“ğŸ³&quot;</pre><p>Maybe you need to figure out what packages you had installed in the save environment?</p><pre><code class="language-julia">jlso.project</code></pre><pre class="documenter-example-output">Dict{String,Any} with 2 entries:
  &quot;deps&quot;   =&gt; Dict{String,Any}(&quot;Documenter&quot;=&gt;&quot;e30172f5-a6a5-5a46-863b-614d45cd2â€¦
  &quot;compat&quot; =&gt; Dict{String,Any}(&quot;Documenter&quot;=&gt;&quot;0.26&quot;)</pre><p>In extreme cases, you may need to inspect the full environment stack. For example, having a struct changed in a dependency.</p><pre><code class="language-julia">jlso.manifest</code></pre><pre class="documenter-example-output">Dict{String,Any} with 41 entries:
  &quot;Mocking&quot;       =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;ExprTools&quot;],&quot;git-tree-sha1â€¦
  &quot;Pkg&quot;           =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Dates&quot;, &quot;LibGit2&quot;, &quot;Libdl&quot;â€¦
  &quot;TimeZones&quot;     =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Dates&quot;, &quot;EzXML&quot;, &quot;Mocking&quot;â€¦
  &quot;Documenter&quot;    =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Base64&quot;, &quot;Dates&quot;, &quot;DocStriâ€¦
  &quot;BSON&quot;          =&gt; Dict{String,Any}[Dict(&quot;git-tree-sha1&quot;=&gt;&quot;db18b5ea04686f73d2â€¦
  &quot;Test&quot;          =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Distributed&quot;, &quot;Interactiveâ€¦
  &quot;Zlib_jll&quot;      =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Artifacts&quot;, &quot;JLLWrappers&quot;,â€¦
  &quot;IOCapture&quot;     =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Logging&quot;],&quot;git-tree-sha1&quot;=â€¦
  &quot;Random&quot;        =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Serialization&quot;],&quot;uuid&quot;=&gt;&quot;9â€¦
  &quot;Libdl&quot;         =&gt; Dict{String,Any}[Dict(&quot;uuid&quot;=&gt;&quot;8f399da3-3557-5675-b5ff-fb8â€¦
  &quot;JLSO&quot;          =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;BSON&quot;, &quot;CodecZlib&quot;, &quot;FilePâ€¦
  &quot;UUIDs&quot;         =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Random&quot;, &quot;SHA&quot;],&quot;uuid&quot;=&gt;&quot;câ€¦
  &quot;Distributed&quot;   =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Random&quot;, &quot;Serialization&quot;, â€¦
  &quot;Serialization&quot; =&gt; Dict{String,Any}[Dict(&quot;uuid&quot;=&gt;&quot;9e88b42a-f829-5b0c-bbe9-9e9â€¦
  &quot;SHA&quot;           =&gt; Dict{String,Any}[Dict(&quot;uuid&quot;=&gt;&quot;ea8e919c-243c-51af-8825-aaaâ€¦
  &quot;REPL&quot;          =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;InteractiveUtils&quot;, &quot;Markdoâ€¦
  &quot;Memento&quot;       =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Dates&quot;, &quot;Distributed&quot;, &quot;JSâ€¦
  &quot;Syslogs&quot;       =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;Printf&quot;, &quot;Sockets&quot;],&quot;git-tâ€¦
  &quot;CodecZlib&quot;     =&gt; Dict{String,Any}[Dict(&quot;deps&quot;=&gt;[&quot;TranscodingStreams&quot;, &quot;Zlibâ€¦
  â‹®               =&gt; â‹®</pre><p>These <code>project</code> and <code>manifest</code> fields are just the dictionary representations of the Project.toml and Manifest.toml files found in a Julia Pkg environment. As such, we can also use <code>Pkg.activate</code> to construct and environment matching that used to write the file.</p><pre><code class="language-julia">dir = joinpath(dirname(dirname(pathof(JLSO))), &quot;test&quot;, &quot;specimens&quot;)
jlso = read(joinpath(dir, &quot;v4_bson_none.jlso&quot;), JLSOFile)
jlso[:DataFrame]</code></pre><pre class="documenter-example-output">1355-element Array{UInt8,1}:
 0x4b
 0x05
 0x00
 0x00
 0x02
 0x74
 0x61
 0x67
 0x00
 0x07
    â‹®
 0x00
 0x00
 0x00
 0x00
 0x00
 0x00
 0x00
 0x00
 0x00</pre><p>Unfortunately, we can&#39;t load some object in the current environment, so we might try to load the offending package only to find out it isn&#39;t part of our current environment.</p><pre><code class="language-julia">try using DataFrames catch e @warn e end</code></pre><pre class="documenter-example-output">â”Œ Warning: ArgumentError(&quot;Package DataFrames not found in current path:\n- Run `import Pkg; Pkg.add(\&quot;DataFrames\&quot;)` to install the DataFrames package.\n&quot;)
â”” @ Main.ex-metadata-example none:1</pre><p>Okay, so we don&#39;t have DataFrames loaded and it isn&#39;t part of our current environment. Rather than adding every possible package needed to deserialize the objects in the file, we can use the <code>Pkg.activate</code> do-block syntax to:</p><ol><li>Initial the extact environment needed to deserialize our objects</li><li>Load our desired dependencies</li><li>Migrate our data to a more appropriate long term format</li></ol><pre><code class="language-julia-repl">julia&gt; using JLSO, Pkg

julia&gt; # Now we can run our conversion logic in an isolated environment
       mktempdir(pwd()) do d
           cd(d) do
               repopath = dirname(dirname(pathof(JLSO)))
               jlso = read(joinpath(repopath, &quot;test&quot;, &quot;specimens&quot;, &quot;v4_bson_none.jlso&quot;), JLSOFile)
       
               # Modify our Manifest to just use the latest release of JLSO
               delete!(jlso.manifest, &quot;JLSO&quot;)
       
               Pkg.activate(jlso, d) do
                   @eval Main begin
                       using Pkg; Pkg.resolve(); Pkg.instantiate(; verbose=true)
                       using DataFrames, JLSO
                       describe($(jlso)[:DataFrame])
                   end
               end
           end
       end
 Activating environment at `~/work/JLSO.jl/JLSO.jl/docs/build/jl_xTquTV/Project.toml`
  Installed Reexport â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.2.0
  Installed DataAPI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.3.0
  Installed URIParser â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.4.1
  Installed Missings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.4.4
  Installed TableTraits â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.0.0
  Installed EzXML â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.0.0
  Installed CategoricalArrays â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.8.3
  Installed Distributions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.24.1
  Installed Compat â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v3.23.0
  Installed InvertedIndices â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.0.0
  Installed IteratorInterfaceExtensions â”€ v1.0.0
  Installed DataValueInterfaces â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.0.0
  Installed Parsers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.0.11
  Installed BinDeps â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.0.1
  Installed BinaryProvider â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.5.10
  Installed Rmath â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.6.0
  Installed OrderedCollections â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.3.1
  Installed RecipesBase â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.1.0
  Installed StaticArrays â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.12.4
  Installed QuadGK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v2.4.1
  Installed StatsBase â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.33.2
  Installed StructTypes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.1.0
  Installed Tables â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.1.0
  Installed DataStructures â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.18.8
  Installed DataFrames â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.21.8
  Installed SortingAlgorithms â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.3.1
  Installed StatsFuns â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.9.5
  Installed SpecialFunctions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.8.0
  Installed PDMats â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.10.1
  Installed FillArrays â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.9.7
  Installed PooledArrays â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v0.5.3
  Installed JLSO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v2.5.0
  Installed TimeZones â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ v1.4.0
Updating `~/work/JLSO.jl/JLSO.jl/docs/build/jl_xTquTV/Project.toml`
  [9da8a3cd] + JLSO v2.5.0
Updating `~/work/JLSO.jl/JLSO.jl/docs/build/jl_xTquTV/Manifest.toml`
  [56f22d72] + Artifacts v1.3.0
  [fbb218c0] â†‘ BSON v0.2.6 â‡’ v0.3.2
  [944b1d66] â†‘ CodecZlib v0.6.0 â‡’ v0.7.0
  [48062228] â†‘ FilePathsBase v0.9.5 â‡’ v0.9.10
  [692b3bcd] + JLLWrappers v1.2.0
  [9da8a3cd] + JLSO v2.5.0
  [f28f55f0] â†‘ Memento v1.1.1 â‡’ v1.1.2
  [83775a58] + Zlib_jll v1.2.11+18
   Building EzXML â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ `~/.julia/packages/EzXML/BF7Lf/deps/build.log`
   Building Rmath â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ `~/.julia/packages/Rmath/BoBag/deps/build.log`
   Building SpecialFunctions â†’ `~/.julia/packages/SpecialFunctions/ne2iw/deps/build.log`
   Building TimeZones â”€â”€â”€â”€â”€â”€â”€â†’ `~/.julia/packages/TimeZones/tx0tt/deps/build.log`
 Activating environment at `~/work/JLSO.jl/JLSO.jl/docs/Project.toml`
4Ã—8 DataFrame. Omitted printing of 2 columns
â”‚ Row â”‚ variable â”‚ mean     â”‚ min      â”‚ median   â”‚ max      â”‚ nunique â”‚
â”‚     â”‚ Symbol   â”‚ Unionâ€¦   â”‚ Any      â”‚ Unionâ€¦   â”‚ Any      â”‚ Unionâ€¦  â”‚
â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1   â”‚ a        â”‚ 3.0      â”‚ 1        â”‚ 3.0      â”‚ 5        â”‚         â”‚
â”‚ 2   â”‚ b        â”‚ 0.772432 â”‚ 0.512452 â”‚ 0.863122 â”‚ 0.907903 â”‚         â”‚
â”‚ 3   â”‚ c        â”‚          â”‚ a        â”‚          â”‚ e        â”‚ 5       â”‚
â”‚ 4   â”‚ d        â”‚ 0.6      â”‚ 0        â”‚ 1.0      â”‚ 1        â”‚         â”‚</code></pre><p>NOTE:</p><ul><li>Comparing <code>project</code> and <code>manifest</code> dictionaries isn&#39;t ideal, but it&#39;s currently unclear if that should live here or in Pkg.jl.</li><li>The <code>Pkg.activate</code> workflow could probably be replaced with a macro</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">Â« Home</a><a class="docs-footer-nextpage" href="../upgrading/">Upgrading Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 15 March 2021 17:35">Monday 15 March 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
